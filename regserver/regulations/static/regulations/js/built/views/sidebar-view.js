define("sidebar-view",["jquery","underscore","backbone","dispatch","sidebar-head-view","sxs-list-view","permalink-view"],function(e,t,n,r,i,s,o){var u=n.View.extend({el:"#sidebar-content",events:{"click .expandable":"toggleExpandable"},initialize:function(){r.on("sidebarModule:render",function(e){this.insertChild(e)},this),r.on("sidebarModule:close",function(e){this.removeChild(e)},this),r.on("definition:open",this.closeExpandables,this),r.on("definition:render",this.insertDefinition,this),r.on("search:submitted",this.closeAllChildren,this),r.on("regSection:open",this.openRegFolders,this),r.on("regSection:open",this.removeLandingSidebar,this),this.childViews={},this.openRegFolders()},openRegFolders:function(){this.childViews.sxs&&this.childViews.sxs.remove(),this.childViews.permalink&&this.childViews.permalink.remove(),this.$el.find("#sxs-list").length===0&&this.$el.append('<section id="sxs-list" class="regs-meta"></section>'),this.$el.find("#permalinks").length===0&&this.$el.append('<section id="permalinks" class="regs-meta"></section>'),this.childViews.sxs=new s,this.childViews.permalink=new o},removeLandingSidebar:function(){e(".landing-sidebar").hide()},insertChild:function(e){this.$el.append(e)},removeChild:function(t){e(t).remove()},insertDefinition:function(e){this.$el.prepend(e)},closeExpandables:function(){this.$el.find(".expandable").each(function(t,n){var r=e(n);r.hasClass("open")&&this.toggleExpandable(r)}.bind(this))},toggleExpandable:function(t){var n=e(t.currentTarget);typeof t.stopPropagation!="undefined"?(t.stopPropagation(),n=e(t.currentTarget)):n=t,n.toggleClass("open").next(".chunk").slideToggle()},closeAllChildren:function(){var e;for(e in this.childViews)this.childViews.hasOwnProperty(e)&&this.childViews[e].remove()}});return u});